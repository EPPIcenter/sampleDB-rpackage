<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>How to Upload Controls • sampleDB</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="How to Upload Controls">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sampleDB</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-how-to" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">How To</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-how-to">
<li><a class="dropdown-item" href="../articles/Delete--Archive-Samples.html">Delete Archive Samples</a></li>
    <li><a class="dropdown-item" href="../articles/How-to-Move-Micronix-Samples.html">How to Move Micronix Samples</a></li>
    <li><a class="dropdown-item" href="../articles/How-to-Upload-Controls.html">How to Upload Controls</a></li>
    <li><a class="dropdown-item" href="../articles/How-to-Upload-Extracted-Controls.html">How to Upload Extracted Controls</a></li>
    <li><a class="dropdown-item" href="../articles/How-to-Move-Controls.html">How to Move Controls</a></li>
    <li><a class="dropdown-item" href="../articles/Preferences.html">Preferences</a></li>
    <li><a class="dropdown-item" href="../articles/Searching-SampleDB.html">Searching SampleDB</a></li>
    <li><a class="dropdown-item" href="../articles/Updating-References.html">Updating References</a></li>
    <li><a class="dropdown-item" href="../articles/Uploading-Cryovial-Specimens.html">Uploading Cryovial Specimens</a></li>
    <li><a class="dropdown-item" href="../articles/Uploading-Micronix-Specimens.html">Uploading Micronix Specimens</a></li>
    <li><a class="dropdown-item" href="../articles/Validation.html">Validation</a></li>
    <li><a class="dropdown-item" href="../articles/qPCR-Workflow.html">qPCR Workflow</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>How to Upload Controls</h1>
            
      

      <div class="d-none name"><code>How-to-Upload-Controls.Rmd</code></div>
    </div>

    
    
<p><u>Purpose:</u> To upload batches of dry blood spots and whole blood
controls. Controls and samples have separate processes for uploads and
searches, and require different reference information. All control
uploads require metadata about the control being uploaded as well as
logistical information, such as what freezer the control is located
in.</p>
<p>SampleDB supports two types of controls: Dry Blood Spots or Whole
Blood. It is important to upload newly created controls immediately,
because recording extractions requires the control to exist in
SampleDB.</p>
<p>These guidelines allow you to upload new controls, (including adding
references prior to the upload). Then, how to add these references in
the upload. Finally, how to document extractions linking to previous
controls in the database.</p>
<p><strong>Guidelines for Controls:</strong> Open the “Controls” panel
under <code>References</code> &gt; <code>Controls</code>.</p>
<p><strong>Create the references:</strong> need <code>Batch</code>,
<code>Strain</code> and <code>CompositionID</code>. Under “Create new
item”:</p>
<ol style="list-style-type: lower-alpha">
<li><p>Select “Batch”. Select the date the controls were created and
click <code>Submit</code>.</p></li>
<li><p>Select <code>Strain</code>. Can be uploaded manually or by a CSV
with a single “Strains” column header. Strains should
<strong>always</strong> be capitalized.</p></li>
<li><p>Select “Composition”. Compositions contain strain and proportion
data. Composition IDs are generated automatically in the background, but
may <em>optionally</em> be given a label during creation if that
composition is already coded. Compositions should be uploaded via CSV.
Use “;” to separate multi-strains, keep in the same order.
Examples:</p></li>
</ol>
<table style="width:78%;" class="table">
<colgroup>
<col width="22%">
<col width="27%">
<col width="27%">
</colgroup>
<thead><tr class="header">
<th><blockquote>
<p><strong>Strains</strong></p>
</blockquote></th>
<th><blockquote>
<p><strong>Percentages</strong></p>
</blockquote></th>
<th><blockquote>
<p><strong>LegacyLabel</strong></p>
</blockquote></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><blockquote>
<p>3D7;D6;HB3</p>
</blockquote></td>
<td><blockquote>
<p>33;32;35</p>
</blockquote></td>
<td></td>
</tr>
<tr class="even">
<td><blockquote>
<p>W2;D6</p>
</blockquote></td>
<td><blockquote>
<p>25;75</p>
</blockquote></td>
<td><blockquote>
<p>TS3-TC1</p>
</blockquote></td>
</tr>
<tr class="odd">
<td><blockquote>
<p>V1S</p>
</blockquote></td>
<td><blockquote>
<p>100</p>
</blockquote></td>
<td></td>
</tr>
</tbody>
</table>
<p>The first row has a 3-strain composition of 3D7, D6 and HB3 with
compositions of 33%, 32% and 35%. No label is provided so one will be
auto-generated (more information on this below).</p>
<p>The second row has a 2-strain composition; 25% W2, 75% D6. Its label
(TS3-TC1) will be used.</p>
<p>The third row has a monoclonal control (100% V1S) with no label.
Since this is a monoclonal, the label will just be the strain (in this
case, ‘V1S’).</p>
<p>Labels are generated by combining the number of strains and an index
to make a unique identifier. <strong>ONLY</strong> provide a label if it
is already used. <strong>New compositions</strong> need auto generated
labels.</p>
<ul>
<li>The auto-generated label produced is a function of the composition
type (ie. 2-strain, 3 strain) and number of instances of the composition
type in the database. For example, if you have three 2-strain
compositions in the database already and add a new one, the resulting
identifier would be <code>S3_4</code> where <code>S3</code> indicates
3-strain and <code>4</code> indicates this is the fourth instance.</li>
</ul>
<div class="section level3">
<h3 id="steps-to-upload-controls">Steps to upload controls:<a class="anchor" aria-label="anchor" href="#steps-to-upload-controls"></a>
</h3>
<p>How to record Dry Blood Spot Controls (DBS) and Whole Blood (WB)
controls. In the bar, press “Upload Specimens”. Where it says “Choose
Your Upload Type”, select “Controls”. Choose Storage Type (“DBS Sheet”
or “Whole Blood”) and select “Create” under Action.</p>
</div>
<div class="section level3">
<h3 id="steps-to-upload-dry-blood-spot-sheets-dbs-sheets">Steps to Upload Dry Blood Spot Sheets (DBS Sheets):<a class="anchor" aria-label="anchor" href="#steps-to-upload-dry-blood-spot-sheets-dbs-sheets"></a>
</h3>
<p>In the top nav, hit “Upload Specimens”. Where it says “Choose Your
Upload Type”, select “Controls”. Choose “DBS Sheet” under Storage Type
and select “Create” under Action.</p>
<div class="section level4">
<h4 id="creating-a-dbs-sheet-upload">Creating a DBS Sheet Upload:<a class="anchor" aria-label="anchor" href="#creating-a-dbs-sheet-upload"></a>
</h4>
<ol style="list-style-type: decimal">
<li>An example DBS Sheet Upload.</li>
</ol>
<table class="table">
<thead><tr class="header">
<th align="left">CompositionID</th>
<th align="left">Batch</th>
<th align="left">SheetName</th>
<th align="left">DBS_FreezerName</th>
<th align="left">DBS_BasketName</th>
<th align="left">DBS_ShelfName</th>
<th align="left">Density</th>
<th align="left">Count</th>
<th align="left">Comment</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">DS3-DC1</td>
<td align="left">2016-07-07</td>
<td align="left">18</td>
<td align="left">Hilda</td>
<td align="left">Blue Box</td>
<td align="left">Fourth Row</td>
<td align="left">0.1</td>
<td align="left">18</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">DS3-DC1</td>
<td align="left">2016-07-07</td>
<td align="left">18</td>
<td align="left">Hilda</td>
<td align="left">Blue Box</td>
<td align="left">Fourth Row</td>
<td align="left">1K</td>
<td align="left">18</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">DS3-DC1</td>
<td align="left">2016-07-07</td>
<td align="left">18</td>
<td align="left">Hilda</td>
<td align="left">Blue Box</td>
<td align="left">Fourth Row</td>
<td align="left">10K</td>
<td align="left">23</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<ol style="list-style-type: lower-alpha">
<li><p><strong>CompositionID</strong>: Refers to strain types and
percentages involved (see “Guidelines for Controls” above). Find this
information under <code>Update References</code> &gt;
<code>Controls</code>. Filter by strain and percentage. The specific
identifier is under the “Label” column of the table.</p></li>
<li><p><strong>Batch</strong>: This is the control batch (see
“Guidelines for Controls” above)</p></li>
<li><p><strong>SheetName</strong>: This is the sheet identifier. To
identify the sheet the dry blood spots are on.</p></li>
<li><p><strong>DBS_FreezerName, DBS_BasketName</strong> <strong>and
DBS_ShelfName:</strong> Location in the freezer</p></li>
<li><p><strong>Density:</strong> The parasitaemia level of the
control.</p></li>
<li><p><strong>Count:</strong> The number of blood spots that were added
to the sheet.</p></li>
<li><p><strong>Comment:</strong> An optional field to leave information
about a DBS Sheet.</p></li>
</ol>
</div>
</div>
<div class="section level3">
<h3 id="validation-for-created-dbs">Validation for Created DBS:<a class="anchor" aria-label="anchor" href="#validation-for-created-dbs"></a>
</h3>
<p>Uploads will be checked for completeness and validity.</p>
<ol style="list-style-type: decimal">
<li>
<p>Composition IDs must exist to be used. Add under references (see
<strong>Guidelines for Controls</strong>).</p>
<ol style="list-style-type: lower-alpha">
<li><em>Message: Composition IDs are not found in the
database.</em></li>
</ol>
</li>
<li>
<p>Batch must exist to be used. Add under references (see
<strong>Guidelines for Controls</strong>).</p>
<ol style="list-style-type: lower-alpha">
<li><em>Message: Batch could not be found in the database</em></li>
</ol>
</li>
<li>
<p>Location must exist to be used. Add under references</p>
<ol style="list-style-type: lower-alpha">
<li><em>Message: "The following DBS_FreezerName, DBS_ShelfName, and/or
DBS_BasketName are not found in the database"</em></li>
</ol>
</li>
</ol>
</div>
<div class="section level3">
<h3 id="uploading-whole-blood-wb-controls">Uploading Whole Blood (WB) Controls:<a class="anchor" aria-label="anchor" href="#uploading-whole-blood-wb-controls"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Example of a Whole Blood Upload csv.</li>
</ol>
<table class="table">
<thead><tr class="header">
<th align="left">Density</th>
<th align="left">CompositionID</th>
<th align="left">Batch</th>
<th align="left">WB_FreezerName</th>
<th align="left">WB_RackName</th>
<th align="left">WB_RackPosition</th>
<th align="left">BoxRow</th>
<th align="left">BoxColumn</th>
<th align="left">BoxName</th>
<th align="left">BoxBarcode</th>
<th align="left">Comment</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1K</td>
<td align="left">W2</td>
<td align="left">2023-08-10</td>
<td align="left">Graves</td>
<td align="left">17</td>
<td align="left">A1</td>
<td align="left">A</td>
<td align="left">1</td>
<td align="left">WB controls .5 pink</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">10K</td>
<td align="left">DS1-DC4</td>
<td align="left">2023-08-10</td>
<td align="left">Graves</td>
<td align="left">17</td>
<td align="left">A1</td>
<td align="left">A</td>
<td align="left">2</td>
<td align="left">WB controls .5 pink</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">100</td>
<td align="left">QS3-QC4</td>
<td align="left">2023-08-10</td>
<td align="left">Graves</td>
<td align="left">17</td>
<td align="left">A1</td>
<td align="left">A</td>
<td align="left">3</td>
<td align="left">WB controls .5 pink</td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<ol style="list-style-type: lower-alpha">
<li><p><strong>Density:</strong> The parasitaemia level of the control.
Use numerical &gt; values or use a K (or k) to denote
"thousand"</p></li>
<li><p><strong>CompositionID</strong>: In this column, record the
composition <strong>label</strong> (see “Guidelines for Controls”
above). Find this by going to <code>Update     References</code> &gt;
<code>Controls</code>. Filter the compositions by strain and percentage.
Use the ID in the “Label” column of the table.</p></li>
<li><p><strong>Batch</strong>: The control batch - it will look like a
date, but must be already in sample DB (see “Guidelines for Controls”
above)</p></li>
<li><p><strong>WB_FreezerName, WB_BasketName and WB_ShelfName:</strong>
Freezer location of DBS Bag</p></li>
<li><p><strong>BoxRow and BoxColumn:</strong> The row and column of tube
within the box.</p></li>
<li><p><strong>BoxName:</strong> The ID for the box containing the
tube.</p></li>
<li><p><strong>BoxBarcode:</strong> An optional field where a barcode
can be added for the box, if one exists.</p></li>
<li><p><strong>Comment:</strong> An optional field where the user can
leave info about a tube.</p></li>
</ol>
</div>
<div class="section level3">
<h3 id="validation-for-whole-blood-wb-controls">Validation for Whole Blood (WB) Controls:<a class="anchor" aria-label="anchor" href="#validation-for-whole-blood-wb-controls"></a>
</h3>
<p>Uploads will be checked for completeness and validity.</p>
<ul>
<li>CompositionID must exist in Sample DB to be used. Add under
references (see Guidelines for Controls)</li>
</ul>
<blockquote>
<p><em>Message: Composition IDs are not found in the database.</em></p>
</blockquote>
<ul>
<li>Batch must exist in Sample DB to be used. Add under references (see
“Guidelines for Controls” above)</li>
</ul>
<blockquote>
<p><em>Message: Batch could not be found in the database</em></p>
</blockquote>
<ul>
<li>Whole Blood Cryovial Box Location must exist to be used. Add under
&gt; references</li>
</ul>
<blockquote>
<p><em>"The following WB_FreezerName, WB_RackName, and/or
WB_RackPosition are not found in the database"</em></p>
</blockquote>
<ul>
<li>Whole Blood Tubes must be uploaded to empty (existing!)
locations</li>
</ul>
<blockquote>
<p><em>Message: “Uploading sample to Cryovial well location that already
has an active sample”</em></p>
</blockquote>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Brian Palmer, Severiano Villarruel, EPPIcenter.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
