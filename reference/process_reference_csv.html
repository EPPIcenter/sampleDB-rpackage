<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Process and Validate Reference CSV File — process_reference_csv • sampleDB</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Process and Validate Reference CSV File — process_reference_csv"><meta name="description" content="This function processes and validates a user-provided reference CSV file.
The process includes reading the file, preprocessing it to remove empty rows or columns,
and then validating and formatting based on the given reference type and action.
If the file doesn't meet the specific requirements or if any validation rules are violated,
appropriate errors or warnings will be raised."><meta property="og:description" content="This function processes and validates a user-provided reference CSV file.
The process includes reading the file, preprocessing it to remove empty rows or columns,
and then validating and formatting based on the given reference type and action.
If the file doesn't meet the specific requirements or if any validation rules are violated,
appropriate errors or warnings will be raised."><meta property="og:image" content="https://eppicenter.github.io/sampleDB/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sampleDB</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-how-to" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">How To</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-how-to"><li><a class="dropdown-item" href="../articles/Delete--Archive-Samples.html">Delete Archive Samples</a></li>
    <li><a class="dropdown-item" href="../articles/How-to-Move-Micronix-Samples.html">How to Move Micronix Samples</a></li>
    <li><a class="dropdown-item" href="../articles/How-to-Upload-Controls.html">How to Upload Controls</a></li>
    <li><a class="dropdown-item" href="../articles/How-to-Upload-Extracted-Controls.html">How to Upload Extracted Controls</a></li>
    <li><a class="dropdown-item" href="../articles/How-to-Move-Controls.html">How to Move Controls</a></li>
    <li><a class="dropdown-item" href="../articles/Preferences.html">Preferences</a></li>
    <li><a class="dropdown-item" href="../articles/Searching-SampleDB.html">Searching SampleDB</a></li>
    <li><a class="dropdown-item" href="../articles/Updating-References.html">Updating References</a></li>
    <li><a class="dropdown-item" href="../articles/Uploading-Cryovial-Specimens.html">Uploading Cryovial Specimens</a></li>
    <li><a class="dropdown-item" href="../articles/Uploading-Micronix-Specimens.html">Uploading Micronix Specimens</a></li>
    <li><a class="dropdown-item" href="../articles/Validation.html">Validation</a></li>
    <li><a class="dropdown-item" href="../articles/qPCR-Workflow.html">qPCR Workflow</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Process and Validate Reference CSV File</h1>

      <div class="d-none name"><code>process_reference_csv.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function processes and validates a user-provided reference CSV file.
The process includes reading the file, preprocessing it to remove empty rows or columns,
and then validating and formatting based on the given reference type and action.
If the file doesn't meet the specific requirements or if any validation rules are violated,
appropriate errors or warnings will be raised.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">process_reference_csv</span><span class="op">(</span></span>
<span>  <span class="va">user_csv</span>,</span>
<span>  <span class="va">user_action</span>,</span>
<span>  <span class="va">reference_type</span>,</span>
<span>  database <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"SDB_PATH"</span><span class="op">)</span>,</span>
<span>  config_yml <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"SDB_CONFIG"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-user-csv">user_csv<a class="anchor" aria-label="anchor" href="#arg-user-csv"></a></dt>
<dd><p>The path to the user's reference CSV file. This will be read into a data frame.</p></dd>


<dt id="arg-user-action">user_action<a class="anchor" aria-label="anchor" href="#arg-user-action"></a></dt>
<dd><p>A character string indicating the action the user is taking (e.g., 'upload').</p></dd>


<dt id="arg-reference-type">reference_type<a class="anchor" aria-label="anchor" href="#arg-reference-type"></a></dt>
<dd><p>A character string specifying the type of references in the user CSV.
Valid types are 'compositions' of 'strains'.</p></dd>


<dt id="arg-database">database<a class="anchor" aria-label="anchor" href="#arg-database"></a></dt>
<dd><p>A character string indicating the path to the SQLite database
used for validation checks. Defaults to the system environment variable 'SDB_PATH'.</p></dd>


<dt id="arg-config-yml">config_yml<a class="anchor" aria-label="anchor" href="#arg-config-yml"></a></dt>
<dd><p>A character string indicating the path to a configuration YAML file.
Defaults to the system environment variable 'SDB_CONFIG'.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A processed and validated reference CSV as a data frame.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="read_and_preprocess_csv.html">read_and_preprocess_csv</a></code>, <code><a href="validate_and_format_reference_file.html">validate_and_format_reference_file</a></code>, <code><a href="validate_references.html">validate_references</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Provide the path to the user CSV file and action details</span></span></span>
<span class="r-in"><span><span class="va">user_file_path</span> <span class="op">&lt;-</span> <span class="st">"path/to/user/reference_file.csv"</span></span></span>
<span class="r-in"><span><span class="va">action</span> <span class="op">&lt;-</span> <span class="st">"upload"</span></span></span>
<span class="r-in"><span><span class="va">type</span> <span class="op">&lt;-</span> <span class="st">"compositions"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Process and validate the user CSV</span></span></span>
<span class="r-in"><span><span class="va">processed_data</span> <span class="op">&lt;-</span> <span class="fu">process_reference_csv</span><span class="op">(</span><span class="va">user_file_path</span>, <span class="va">action</span>, <span class="va">type</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Brian Palmer, Severiano Villarruel, EPPIcenter.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

