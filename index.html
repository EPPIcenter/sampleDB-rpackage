<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Organize your Wetlab Samples with sampleDB • sampleDB</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Organize your Wetlab Samples with sampleDB">
<meta name="description" content="An R package to store and view wetlab samples.">
<meta property="og:description" content="An R package to store and view wetlab samples.">
<meta property="og:image" content="https://eppicenter.github.io/sampleDB/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">sampleDB</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-how-to" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">How To</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-how-to">
<li><a class="dropdown-item" href="articles/Delete--Archive-Samples.html">Delete Archive Samples</a></li>
    <li><a class="dropdown-item" href="articles/How-to-Move-Micronix-Samples.html">How to Move Micronix Samples</a></li>
    <li><a class="dropdown-item" href="articles/How-to-Upload-Controls.html">How to Upload Controls</a></li>
    <li><a class="dropdown-item" href="articles/How-to-Upload-Extracted-Controls.html">How to Upload Extracted Controls</a></li>
    <li><a class="dropdown-item" href="articles/Preferences.html">Preferences</a></li>
    <li><a class="dropdown-item" href="articles/Searching-SampleDB.html">Searching SampleDB</a></li>
    <li><a class="dropdown-item" href="articles/Updating-References.html">Updating References</a></li>
    <li><a class="dropdown-item" href="articles/Uploading-Cryovial-Specimens.html">Uploading Cryovial Specimens</a></li>
    <li><a class="dropdown-item" href="articles/Uploading-Micronix-Specimens.html">Uploading Micronix Specimens</a></li>
    <li><a class="dropdown-item" href="articles/Validation.html">Validation</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="sampledb">SampleDB<a class="anchor" aria-label="anchor" href="#sampledb"></a>
</h1>
</div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>SampleDB is a Management System for Wet Lab Samples.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>SampleDB can be installed using Docker or from GitHub.</p>
<div class="section level3">
<h3 id="docker">Docker<a class="anchor" aria-label="anchor" href="#docker"></a>
</h3>
<p>This is the preferred way to setup sampleDB because the docker image will come with all of the dependencies needed to run the application. Please follow the steps below to ensure setup is done correctly.</p>
<div class="section level4">
<h4 id="id_1-create-a-volume">1. Create a volume<a class="anchor" aria-label="anchor" href="#id_1-create-a-volume"></a>
</h4>
<p>You should first create a volume to contain the sampleDB database. Start by running the command below:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">docker</span> volume create sampledb_database</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">docker</span> volume create shinylogs</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_2-create-the-image">2. Create the image<a class="anchor" aria-label="anchor" href="#id_2-create-the-image"></a>
</h4>
<p>There are two ways to obtain a sampleDB image. You can either pull the image from DockerHub or you may build it locally. Instructions for both can be found below.</p>
<div class="section level5">
<h5 id="option-1-pull-from-dockerhub">Option 1: Pull from DockerHub<a class="anchor" aria-label="anchor" href="#option-1-pull-from-dockerhub"></a>
</h5>
<p>A docker image for sampleDB can be pulled from <a href="https://hub.docker.com/repository/docker/eppicenter/sampledb/general" class="external-link">DockerHub</a>.</p>
<p>To pull from DockerHub, run the command below:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">docker</span> pull eppicenter/sampledb:v2.2.0</span></code></pre></div>
</div>
<div class="section level5">
<h5 id="option-2-build-the-image">Option 2: Build the image<a class="anchor" aria-label="anchor" href="#option-2-build-the-image"></a>
</h5>
<p>You can build the image instead of pulling from DockerHub. To do so, run the following command:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">docker</span> build <span class="at">-t</span> eppicenter/sampledb:v2.2.0 .</span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="id_3-create-your-container">3. Create your container<a class="anchor" aria-label="anchor" href="#id_3-create-your-container"></a>
</h4>
<p>This is the final step. The host <code>localhost</code> and port <code>8080</code> will be used to access the application within the container, and all volumes needed to run the container are passed in on the command line. Notice that the sampleDB database volume is also include in the list of volumes.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-d</span> <span class="at">-p</span> 8080:3838 <span class="at">-v</span> /srv/shinyapps/:/srv/shiny-server <span class="at">-v</span> /srv/shinylog/:/var/log/shiny-server <span class="at">-v</span> sampledb_database:/usr/local/share/sampleDB <span class="at">--restart</span> unless-stopped <span class="at">--name</span> sampleDB eppicenter/sampledb:v2.2.0</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_4-access-sampledb">4. Access sampleDB<a class="anchor" aria-label="anchor" href="#id_4-access-sampledb"></a>
</h4>
<p>You may now access sampleDB from your browser by navigating to <code>localhost:8080</code>.</p>
</div>
</div>
<div class="section level3">
<h3 id="from-github">From GitHub<a class="anchor" aria-label="anchor" href="#from-github"></a>
</h3>
<p>Please take a second to review the below sections before installing the application.</p>
<div class="section level4">
<h4 id="hosted-versus-local-application-instances">Hosted versus local application instances<a class="anchor" aria-label="anchor" href="#hosted-versus-local-application-instances"></a>
</h4>
<p>The sampleDB shiny application can be hosted by a shiny server or can be run locally. If you would like to link the application to the server, you must install the application into any of the site library pathways. Otherwise, it is okay to install the package locally (or at the site level) and run the shiny application using <code><a href="reference/Run_SampleDB.html">Run_SampleDB()</a></code>.</p>
</div>
<div class="section level4">
<h4 id="data-availability">Data availability<a class="anchor" aria-label="anchor" href="#data-availability"></a>
</h4>
<p>Data access is another important consideration, and should affect your installation choice. If you would like all users to access the same database, you must install using a site library pathway. Local installs will install data files to your operating system’s default location for user data, and therefore will prevent other users from accessing that data. System installs will place the database into the default location for shared application data and will be accessble to anyone who uses the application.</p>
</div>
<div class="section level4">
<h4 id="command-to-setup-external-environment">Command to setup external environment<a class="anchor" aria-label="anchor" href="#command-to-setup-external-environment"></a>
</h4>
<div class="section level5">
<h5 id="site-install">Site Install<a class="anchor" aria-label="anchor" href="#site-install"></a>
</h5>
<p>To install sampleDB at the site level, you can run the command below using an R process with elevated privileges:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span></span>
<span>    <span class="st">"https://github.com/EPPIcenter/sampleDB-rpackage"</span>, </span>
<span>    ref <span class="op">=</span> <span class="st">"v2.2.0"</span>,</span>
<span>    lib <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>To run an elevated R process, you can run <code>sudo R</code> in your terminal. You can also launch an elevated rstudio instance by opening a terminal and running <code>sudo rstudio</code>.</p>
</div>
<div class="section level5">
<h5 id="local-install">Local Install<a class="anchor" aria-label="anchor" href="#local-install"></a>
</h5>
<p>For a local install, the below command is sufficient within a regular RStudio or terminal launch:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span></span>
<span>    <span class="st">"https://github.com/EPPIcenter/sampleDB-rpackage"</span>, </span>
<span>    ref <span class="op">=</span> <span class="st">"v2.2.0"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="set-up-and-upgrades">Set Up and Upgrades<a class="anchor" aria-label="anchor" href="#set-up-and-upgrades"></a>
</h3>
<p>To set up or upgrade sampleDB, run the command below.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/SampleDB_Setup.html">SampleDB_Setup</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>As previously mentioned, there are a variety of ways to install the application. Below is example output from <code><a href="reference/SampleDB_Setup.html">SampleDB_Setup()</a></code> from a site install that does <strong>NOT</strong> have shiny server installed:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">──</span> Deploying sampleDB Environment ──────────────────────────────────────────────</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="ex">✔</span> Database location set <span class="pp">[</span><span class="ss">/usr/local/share/sampleDB/sampledb_database.sqlite</span><span class="pp">]</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="ex">✔</span> Database installed <span class="pp">[</span><span class="ss">/usr/local/share/sampleDB/sampledb_database.sqlite</span><span class="pp">]</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="ex">✔</span> Subdirectory installed <span class="pp">[</span><span class="ss">/usr/local/share/sampleDB/backups</span><span class="pp">]</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="ex">✔</span> Subdirectory installed <span class="pp">[</span><span class="ss">/usr/local/share/sampleDB/upload_files</span><span class="pp">]</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="ex">✔</span> Subdirectory installed <span class="pp">[</span><span class="ss">/usr/local/share/sampleDB/move_files</span><span class="pp">]</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="ex">──</span> Deploying sampleDB Shiny Application ────────────────────────────────────────</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="ex">✖</span> Shiny server is not installed.</span></code></pre></div>
<p>The <code>✔</code> indicates successful installation of a directory or file, whereas <code>✖</code> indicates a process did not run sucessfully. You will only see <code>✖</code> if there is an issue linking the application to shiny server.</p>
<p>Both setup processes will always run: <code>Deploying sampleDB Environment</code> runs first, followed by <code>Deploying sampleDB Shiny Application</code>. You will always see both processes during setup - there is currently no way to turn off the second process.</p>
</div>
</div>
<div class="section level2">
<h2 id="database-backups">Database Backups<a class="anchor" aria-label="anchor" href="#database-backups"></a>
</h2>
<p>The database will backup each time a session begins, <em>unless</em> the database has not changed since the last backup. Only the most recent 10 backups will be kept. The location of the backup folder can be found running <code><a href="reference/SampleDB_Setup.html">SampleDB_Setup()</a></code> again (this function does not overwrite), and it is recommended that you keep additional copies of your backups.</p>
<p>One of the easiest ways to create a backup is through the <code><a href="reference/Backup_SampleDB.html">Backup_SampleDB()</a></code> function provided in the package. This function by default creates a backup in the default backup folder, although you may pass a filepath to <code>backup_dest</code> (e.g. /path/to/file.backup) to overwrite this default behavior.</p>
</div>
<div class="section level2">
<h2 id="faq">FAQ<a class="anchor" aria-label="anchor" href="#faq"></a>
</h2>
<div class="section level3">
<h3 id="macos-permission-issues">MacOS Permission Issues<a class="anchor" aria-label="anchor" href="#macos-permission-issues"></a>
</h3>
<p>If you are working on a Mac and run into permission issues, you may need to run SampleDB with elevated permissions.</p>
<p>To run Rstudio as an administrator: - Go to Applications, then right click on RStudio and Select “Show Package Contents” - Navigate from Contents &gt; MacOS, in this directory you will see the <code>RStudio.exec</code> - In Terminal, enter <code>sudo</code> and then the path to the <code>RStudio.exec</code> (alternatively you can drag and drop <code>RStudio.exec</code> into Terminal). And press enter. Example:</p>
<pre><code><span><span class="va">sudo</span> <span class="op">/</span><span class="va">Applications</span><span class="op">/</span><span class="va">RStudio.app</span><span class="op">/</span><span class="va">Contents</span><span class="op">/</span><span class="va">MacOS</span><span class="op">/</span><span class="va">RStudio</span></span></code></pre>
<ul>
<li>Now RStudio will launch with admin access</li>
</ul>
</div>
<div class="section level3">
<h3 id="i-ran-run_sampledb-but-the-i-see-an-error-message">I ran <code>Run_SampleDB()</code> but the I see an error message<a class="anchor" aria-label="anchor" href="#i-ran-run_sampledb-but-the-i-see-an-error-message"></a>
</h3>
<p>First run <code><a href="reference/SampleDB_Setup.html">SampleDB_Setup()</a></code>. This will create the database and setup all other dependencies.</p>
</div>
<div class="section level3">
<h3 id="i-installed-the-application-but-i-cannot-upload-files">I installed the application but I cannot upload files<a class="anchor" aria-label="anchor" href="#i-installed-the-application-but-i-cannot-upload-files"></a>
</h3>
<p>Locations, studies, and specimen types need to be defined first before they can be referenced in upload files. You can find these panels under the <code>Update References</code> tab.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing sampleDB</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Brian Palmer <br><small class="roles"> Author, maintainer </small>  </li>
<li>Severiano Villarruel <br><small class="roles"> Author </small>  </li>
<li>EPPIcenter <br><small class="roles"> Funder </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Brian Palmer, Severiano Villarruel, EPPIcenter.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
